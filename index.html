<!DOCTYPE HTML>
<html>
<head>
	<link href="/css/bootstrap.min.css" rel="stylesheet">
	<link href="/css/styles.css" rel="stylesheet">
	<title>Fooseball Display</title>
</head>
<body>

<div class="container">
	<div class="row">

		<div class="col-md-6 col-md-offset-3">
			
			<h1>Players</h1>
			<p>Enter your instagram ID to grab your avatar</p>
			<div class="form-group">
			    <label for="blue-player-1">Blue Attack </label>
			    <input id="blue-player-1" type="text" class="form-control" placeholder="Instagram ID">
			</div>


			<div class="form-group">
			    <label for="blue-player-2">Blue Defence </label>
			    <input id="blue-player-2" type="text" class="form-control" placeholder="Instagram ID">
			</div>

			<div class="form-group">
			    <label for="red-player-1">Red Attack </label>
			    <input id="red-player-1" type="text" class="form-control" placeholder="Instagram ID">
			</div>

			<div class="form-group">
			    <label for="red-player-2">Red Defence </label>
			    <input id="red-player-2" type="text" class="form-control" placeholder="Instagram ID">
			</div>


			<a id="NewGame" href="/newgame" class="btn btn-primary">New Game</a>

			<hr/>
			
			<h4>Status</h4>
			<div id="status" class="alert alert-info" role="alert"> </div>
			
		</div>
	</div>

</div>


<script src="http://code.jquery.com/jquery-latest.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/socket.io/socket.io.js"></script>

<script type="text/javascript">
	
	jQuery(function($){

		
		
		var socket = io.connect();
		
		socket.on('connect', function () {
	        console.log("connected!!");
    	});


		socket.on('disconnect', function () {
	        console.log("disconnected!!");
	        $("#status").html("Lost connection to server!");
	       
    	});
		
		socket.emit('status', 'Display connected');


		socket.on('status', function(data){
			
			console.log(data);
			$("#status").html(data);

		});

		function sendPlayerNames(){

			var bluePlayer1 = $('#blue-player-1').val();
			var bluePlayer2 = $('#blue-player-2').val();
			var redPlayer1 = $('#red-player-1').val();
			var redPlayer2 = $('#red-player-2').val();
			socket.emit('players', {bluePlayer1: bluePlayer1, bluePlayer2: bluePlayer2, redPlayer1: redPlayer1, redPlayer2: redPlayer2});

		};

		$( "#NewGame" ).click(function(e) {
			e.preventDefault();
			console.log('test');
			sendPlayerNames();
			
			window.location ='/newgame';
		});

		
	});

</script>

</body>

</html>